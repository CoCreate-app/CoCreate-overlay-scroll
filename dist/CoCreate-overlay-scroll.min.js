!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CoCreate=t():(e.CoCreate=e.CoCreate||{},e.CoCreate.overlayScroll=t())}(this,(function(){return(()=>{"use strict";var e={};return(()=>{var t=e;t.default=void 0;var i=function(){var e,t,i=((t=document.createElement("div")).style.position="absolute",t.style.top="-9999px",t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,document.body.removeChild(t),e),l={element:"co_overlay-scroll",verticalScrollbar:"co_scrollbar _vertical",horizontalScrollbar:"co_scrollbar _horizontal",thumb:"thumb",view:"co_overlay-viewport",disable:"co_scrollbar-disable-selection",prevented:"co_prevented",resizeTrigger:"co_resize-trigger"};function s(e,t){return e.indexOf(t)>-1}function n(e,t){if(e.classList)return t.forEach((function(t){e.classList.add(t)}));e.className+=" "+t.join(" ")}function r(e,t){if(e.classList)return t.forEach((function(t){e.classList.remove(t)}));e.className=e.className.replace(new RegExp("(^|\\b)"+t.join("|")+"(\\b|$)","gi")," ")}function o(e,t,i=!1){var l=e.querySelector(t);if(!l){if(l=document.createElement("div"),i)for(;e.childNodes.length>0;)l.appendChild(e.childNodes[0]);e.appendChild(l)}return l}function h(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/")}function c(e){var t={element:e,options:{visible:"show",hScroll:{behavior:"scroll",pos:"bottom"},vScroll:{behavior:"scroll",pos:"right"}},forceGemini:!1,onResize:null,minThumbSize:20,_cache:{events:{}},_cursorDown:!1,_prevPageX:0,_prevPageY:0,_document:null,_viewElement:null,_scrollbarVerticalElement:null,_thumbVerticalElement:null,_scrollbarHorizontalElement:null,_scrollbarHorizontalElement:null,initDomOptions:function(){var e=this.element.dataset.overlayScroll_type;void 0!==e&&(e=e.toLowerCase(),this.options.hScroll.behavior=s(e,"scrollx")?"scroll":"_disabled",this.options.vScroll.behavior=s(e,"scrolly")?"scroll":"_disabled");var t=this.element.dataset.overlayScroll_pos;void 0!==t&&(t=t.toLowerCase(),this.options.hScroll.pos=s(t,"top")?"top":"bottom",this.options.vScroll.pos=s(t,"left")?"left":"right");var i=this.element.dataset.overlayScroll_visible;void 0!==i&&(i=i.toLowerCase(),this.options.visible=["show","hide","auto"].indexOf(i)>-1?i:"show")},create:function(){if(this.initDomOptions(),i){var e=[];"show"!==this.options.visible&&e.push("scroll-"+this.options.visible),"scroll"!==this.options.hScroll.behavior&&e.push("horizontal"+this.options.hScroll.behavior),"scroll"!==this.options.vScroll.behavior&&e.push("vertical"+this.options.vScroll.behavior),n(this.element,e),this._document=document,this._viewElement=o(this.element,":scope > ."+l.view,!0),n(this._viewElement,[l.view]),this._scrollbarHorizontalElement=o(this.element,":scope > ."+l.horizontalScrollbar.split(" ").join(".")),this._thumbHorizontalElement=o(this._scrollbarHorizontalElement,":scope > ."+l.thumb);var t=l.horizontalScrollbar.split(/\s/);t.push(this.options.hScroll.pos),n(this._scrollbarHorizontalElement,t),n(this._thumbHorizontalElement,[l.thumb]),this._scrollbarVerticalElement=o(this.element,":scope > ."+l.verticalScrollbar.split(" ").join(".")),this._thumbVerticalElement=o(this._scrollbarVerticalElement,":scope > ."+l.thumb);var s=l.verticalScrollbar.split(/\s/);s.push(this.options.vScroll.pos),n(this._scrollbarVerticalElement,s),n(this._thumbVerticalElement,[l.thumb])}else n(this.element,[l.prevented]),this.onResize&&(this._viewElement=o(this.element,":scope > ."+l.view,!0),n(this._viewElement,[l.view]),this._createResizeTrigger());return this._createResizeTrigger(),this._bindEvents().update()},_createResizeTrigger:function(){var e=document.createElement("object");n(e,[l.resizeTrigger]),e.type="text/html",e.setAttribute("tabindex","-1");var t=this._resizeHandler.bind(this);e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",t)},h()||(e.data="about:blank"),this.element.appendChild(e),h()&&(e.data="about:blank"),this._resizeTriggerElement=e},update:function(){return i?(this._viewElement.style.width=(this.element.offsetWidth+i).toString()+"px",this._viewElement.style.height=(this.element.offsetHeight+i).toString()+"px",this._naturalThumbSizeX=this._scrollbarHorizontalElement.clientWidth/this._viewElement.scrollWidth*this._scrollbarHorizontalElement.clientWidth,this._naturalThumbSizeY=this._scrollbarVerticalElement.clientHeight/this._viewElement.scrollHeight*this._scrollbarVerticalElement.clientHeight,this._scrollTopMax=this._viewElement.scrollHeight-this._viewElement.clientHeight,this._scrollLeftMax=this._viewElement.scrollWidth-this._viewElement.clientWidth,this._naturalThumbSizeY<this.minThumbSize?this._thumbVerticalElement.style.height=this.minThumbSize+"px":this._scrollTopMax?this._thumbVerticalElement.style.height=this._naturalThumbSizeY+"px":this._thumbVerticalElement.style.height="0px",this._naturalThumbSizeX<this.minThumbSize?this._thumbHorizontalElement.style.width=this.minThumbSize+"px":this._scrollLeftMax?this._thumbHorizontalElement.style.width=this._naturalThumbSizeX+"px":this._thumbHorizontalElement.style.width="0px",this._thumbSizeY=this._thumbVerticalElement.clientHeight,this._thumbSizeX=this._thumbHorizontalElement.clientWidth,this._trackTopMax=this._scrollbarVerticalElement.clientHeight-this._thumbSizeY,this._trackLeftMax=this._scrollbarHorizontalElement.clientWidth-this._thumbSizeX,this._scrollHandler(),this):this},destroy:function(){if(this._resizeTriggerElement&&(this.element.removeChild(this._resizeTriggerElement),this._resizeTriggerElement=null),!i)return this;for(this._unbinEvents(),r(this.element,[l.element,"scroll-"+this.options.visible]),this.element.removeChild(this._scrollbarVerticalElement),this.element.removeChild(this._scrollbarHorizontalElement);this._viewElement.childNodes.length>0;)this.element.appendChild(this._viewElement.childNodes[0]);return this.element.removeChild(this._viewElement),this._document=null,null},_bindEvents:function(){return this._cache.events.scrollHandler=this._scrollHandler.bind(this),this._cache.events.clickVerticalTrackHandler=this._clickVerticalTrackHandler.bind(this),this._cache.events.clickHorizontalTrackHandler=this._clickHorizontalTrackHandler.bind(this),this._cache.events.clickVerticalThumbHandler=this._clickVerticalThumbHandler.bind(this),this._cache.events.clickHorizontalThumbHandler=this._clickHorizontalThumbHandler.bind(this),this._cache.events.mouseUpDocumentHandler=this._mouseUpDocumentHandler.bind(this),this._cache.events.mouseMoveDocumentHandler=this._mouseMoveDocumentHandler.bind(this),this._viewElement.addEventListener("scroll",this._cache.events.scrollHandler),this._scrollbarVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalTrackHandler),this._scrollbarHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler),this._thumbVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalThumbHandler),this._thumbHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler),this._document.addEventListener("mouseup",this._cache.events.mouseUpDocumentHandler),this},_unbinEvents:function(){return this._viewElement.removeEventListener("scroll",this._cache.events.scrollHandler),this._scrollbarVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalTrackHandler),this._scrollbarHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler),this._thumbVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalThumbHandler),this._thumbHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler),this._document.removeEventListener("mouseup",this._cache.events.mouseUpDocumentHandler),this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this},_scrollHandler:function(){var e=this._viewElement.scrollLeft*this._trackLeftMax/this._scrollLeftMax||0,t=this._viewElement.scrollTop*this._trackTopMax/this._scrollTopMax||0;this._thumbHorizontalElement.style.msTransform="translateX("+e+"px)",this._thumbHorizontalElement.style.webkitTransform="translate3d("+e+"px, 0, 0)",this._thumbHorizontalElement.style.transform="translate3d("+e+"px, 0, 0)","scroll"==this.options.vScroll.behavior&&(this._thumbVerticalElement.style.msTransform="translateY("+t+"px)",this._thumbVerticalElement.style.webkitTransform="translate3d(0, "+t+"px, 0)",this._thumbVerticalElement.style.transform="translate3d(0, "+t+"px, 0)")},_resizeHandler:function(){this.update(),this.onResize&&this.onResize()},_clickVerticalTrackHandler:function(e){if(e.target===e.currentTarget){var t=100*(e.offsetY-.5*this._naturalThumbSizeY)/this._scrollbarVerticalElement.clientHeight;this._viewElement.scrollTop=t*this._viewElement.scrollHeight/100}},_clickHorizontalTrackHandler:function(e){if(e.target===e.currentTarget){var t=100*(e.offsetX-.5*this._naturalThumbSizeX)/this._scrollbarHorizontalElement.clientWidth;this._viewElement.scrollLeft=t*this._viewElement.scrollWidth/100}},_clickVerticalThumbHandler:function(e){this._startDrag(e),this._prevPageY=this._thumbSizeY-e.offsetY},_clickHorizontalThumbHandler:function(e){this._startDrag(e),this._prevPageX=this._thumbSizeX-e.offsetX},_startDrag:function(e){this._cursorDown=!0,n(document.body,[l.disable]),this._document.addEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this._document.onselectstart=function(){return!1}},_mouseUpDocumentHandler:function(){this._cursorDown=!1,this._prevPageX=this._prevPageY=0,r(document.body,[l.disable]),this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler),this._document.onselectstart=null},_mouseMoveDocumentHandler:function(e){var t,i;if(!1!==this._cursorDown)return this._prevPageY?(t=e.clientY-this._scrollbarVerticalElement.getBoundingClientRect().top,i=this._thumbSizeY-this._prevPageY,void(this._viewElement.scrollTop=this._scrollTopMax*(t-i)/this._trackTopMax)):void(this._prevPageX&&(t=e.clientX-this._scrollbarHorizontalElement.getBoundingClientRect().left,i=this._thumbSizeX-this._prevPageX,this._viewElement.scrollLeft=this._scrollLeftMax*(t-i)/this._trackLeftMax))}};return t.create(),t}return{_objects:[],init:function(){for(var e=document.querySelectorAll(".co_overlay-scroll"),t=0;t<e.length;t++)this.createObj(e[t])},checkExistObj:function(e){for(var t=0;t<this._objects.length;t++)if(e.isSameNode(this._objects[t].el))return!0;return!1},createObj:function(e){this.checkExistObj(e)||this._objects.push(new c(e))}}}();window.onload=function(){i.init()};var l=i;t.default=l})(),e=e.default})()}));